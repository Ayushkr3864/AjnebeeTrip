# **Containerization Plan**

## **Goal**

Setup Dockerfiles for the project to run inside of containers. Do not set up docker-compose for running locally as it is not required.

## **List of services to be containerized**

- **ajnabeeTrip** (React + Vite SPA)
  - **Language:** JavaScript
  - **Framework:** React 19 with Vite
  - **Build System:** npm
  - **Entry Point:** src/main.jsx
  - **Port:** 3000 (dev), 80 (production)
  - **Dependencies:** Node.js 18+, npm/yarn
  - **Key Libraries:** React Router, Firebase, Tailwind CSS, Framer Motion
  - **Output:** Static files in dist/ directory after build

## **Execution Steps**

> **Below are the steps for Copilot to follow; ask Copilot to update or execute this plan.**

### Step 1: Check containerization pre-requisites

- [ ] Ensure Docker is installed and running
- [ ] Verify Node.js 18+ is available for build process

### Step 2: Verify code is ready for containerization

- [ ] Review environment variable usage for configuration (Firebase config, API endpoints)
- [ ] Ensure no hardcoded sensitive values in source code
- [ ] Dependencies identified:
  - Firebase (cloud backend)
  - EmailJS API (email service)
  - Any other cloud services should be configured via environment variables

### Step 3: Generate Dockerfile for ajnabeeTrip

- [ ] Use 'appmod-plan-generate-dockerfile' tool to create optimized Dockerfile
- [ ] Dockerfile will implement multi-stage build (dependencies → build → production)
- [ ] Production image will serve static files via Node.js or lightweight HTTP server

### Step 4: Build Docker images

- [ ] Build Docker image with tag: `ajnabeetrip:latest`
- [ ] Verify image builds successfully without errors
- [ ] Check image size and layers

### Step 5: Summarize containerization results

- [ ] List all Dockerfiles created
- [ ] Document any code changes required
- [ ] Provide build and run instructions

## **Status**

- [x] Repository analyzed
- [x] Dockerfiles generated
- [x] Pre-build verification completed
- [ ] Images built successfully (awaiting Docker Desktop startup)

## **Files Created**

✅ **Dockerfile** - Multi-stage build with optimizations

- Builder stage: Node.js 18-slim, installs deps, runs build
- Production stage: Node.js 18-slim with `serve` utility
- Health checks configured
- Port 3000 exposed

✅ **.dockerignore** - Optimized build context exclusions

✅ **.azure/containerization-plan.copilotmd** - This plan document
